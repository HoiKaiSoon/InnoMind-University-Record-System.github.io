(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4dc196a2"],{"164f":function(e,t,a){"use strict";a("4c20")},"4c20":function(e,t,a){},6231:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchResult}},[a("el-form-item",{attrs:{label:"Student Name"}},[a("el-input",{attrs:{placeholder:"Please enter student name"},model:{value:e.searchResult.name,callback:function(t){e.$set(e.searchResult,"name",t)},expression:"searchResult.name"}})],1),a("el-form-item",{attrs:{label:"Matric No"}},[a("el-input",{attrs:{placeholder:"Please enter matric number"},model:{value:e.searchResult.matric,callback:function(t){e.$set(e.searchResult,"matric",t)},expression:"searchResult.matric"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Search")]),a("el-button",{attrs:{type:"info"},on:{click:e.clear}},[e._v("Clear")])],1)],1),a("el-row",[a("el-button",{attrs:{type:"danger",size:"medium"},on:{click:e.deleteByIds}},[e._v("- Batch Deletion")]),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.dialogVisible=!0,e.student={image:""}}}},[e._v("+ Add New Result")])],1),a("el-dialog",{ref:"form",attrs:{title:"Add New Result",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.result,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{placeholder:"Please enter student name",autocomplete:"off"},model:{value:e.result.name,callback:function(t){e.$set(e.result,"name",t)},expression:"result.name"}})],1),a("el-form-item",{attrs:{label:"Matric No"}},[a("el-input",{attrs:{placeholder:"Please enter matric number",autocomplete:"off"},model:{value:e.result.matric,callback:function(t){e.$set(e.result,"matric",t)},expression:"result.matric"}})],1),a("el-form-item",{attrs:{label:"Subject"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Please choose","value-key":"result.subject"},model:{value:e.result.subjectId,callback:function(t){e.$set(e.result,"subjectId",t)},expression:"result.subjectId"}},e._l(e.subjectList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"Score"}},[a("el-input",{attrs:{placeholder:"Please enter score",autocomplete:"off"},model:{value:e.result.score,callback:function(t){e.$set(e.result,"score",t)},expression:"result.score"}})],1),a("el-form-item",{attrs:{label:"Grade"}},[a("el-input",{attrs:{placeholder:"Please enter grade",autocomplete:"off"},model:{value:e.result.grade,callback:function(t){e.$set(e.result,"grade",t)},expression:"result.grade"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Submit")]),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")])],1)],1)],1),a("br"),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"Student Name",align:"center"}}),a("el-table-column",{attrs:{prop:"matric",label:"Matric Number",align:"center"}}),a("el-table-column",{attrs:{prop:"subjectId",label:"Subject",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(e.getSubjectNameById(a.subjectId))+" ")]}}])}),a("el-table-column",{attrs:{prop:"score",label:"Score",align:"center"}}),a("el-table-column",{attrs:{prop:"grade",label:"Grade",align:"center"}}),a("el-table-column",{attrs:{align:"center",label:"Latest Updated"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.updateTime?t.row.updateTime.replace("T"," "):"")+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Operation"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.update(t.row.id)}}},[e._v("Edit")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.deleteById(t.row.id)}}},[e._v("Delete")])]}}])})],1)],a("el-pagination",{attrs:{background:e.background,"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2)},l=[],r=(a("b0c0"),a("7db0"),a("d3b7"),a("b775"));function i(e,t,a,n,l,i){return Object(r["a"])({url:"/result?name="+e+"&matric="+t+"&page="+l+"&pageSize="+i,method:"get"})}function s(e){return Object(r["a"])({url:"/result",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/result",method:"put",data:e})}function u(e){return Object(r["a"])({url:"/result/"+e,method:"delete"})}function o(e){return Object(r["a"])({url:"/result/"+e,method:"get"})}var d=a("c418"),m=a("5f87"),f={data:function(){return{background:!0,pageSize:5,totalCount:100,currentPage:1,dialogVisible:!1,searchResult:{name:"",matric:""},result:{subjectId:null},subjectList:[],beginTime:"",endTime:"",selectedIds:[],multipleSelection:[],tableData:[],token:{token:Object(m["a"])()}}},mounted:function(){var e=this;this.page(),Object(d["c"])().then((function(t){e.subjectList=t.data.data}))},methods:{page:function(){var e=this;i(this.searchResult.name,this.searchResult.matric,this.beginTime,this.endTime,this.currentPage,this.pageSize).then((function(t){e.totalCount=t.data.data.total,e.tableData=t.data.data.rows}))},getSubjectNameById:function(e){var t=this.subjectList.find((function(t){return t.id==e}));return t?t.name:""},handleSelectionChange:function(e){this.multipleSelection=e},onSubmit:function(){this.currentPage=1,this.page()},clear:function(){this.searchResult={name:"",matric:""},this.beginTime="",this.endTime="",this.entrydate="",this.page()},add:function(){var e,t=this;e=this.result.id?c(this.result):s(this.result),e.then((function(e){"1"==e.data.code?(t.dialogVisible=!1,t.page(),t.$message({message:"Save Successful",type:"success"}),t.result={image:""}):t.$message.error(e.data.msg)}))},update:function(e){var t=this;this.dialogVisible=!0,o(e).then((function(e){1==e.data.code&&(t.result=e.data.data,t.result)}))},handleSizeChange:function(e){this.pageSize=e,this.page()},handleCurrentChange:function(e){this.currentPage=e,this.page()},deleteById:function(e){var t=this;this.$confirm("This operation will delete the data, do you want to continue?","Hint",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){u(e).then((function(e){1==e.data.code?(t.$message.success("Delete Successful"),t.page()):t.$message.error(e.data.msg)}))})).catch((function(){t.$message.info("Cancel Delete")}))},deleteByIds:function(){var e=this;this.$confirm("This operation will delete the data, do you want to continue?","Hint",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){for(var t=0;t<e.multipleSelection.length;t++)e.selectedIds[t]=e.multipleSelection[t].id;u(e.selectedIds).then((function(t){"1"==t.data.code?(e.$message.success("Delete Successful"),e.page()):e.$message.error(t.data.msg)}))})).catch((function(){e.$message.info("Cancel Delete")}))}}},b=f,p=(a("164f"),a("2877")),h=Object(p["a"])(b,n,l,!1,null,null,null);t["default"]=h.exports},"7db0":function(e,t,a){"use strict";var n=a("23e7"),l=a("b727").find,r=a("44d2"),i=a("ae40"),s="find",c=!0,u=i(s);s in[]&&Array(1)[s]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),r(s)},c418:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return u}));var n=a("b775");function l(e,t,a,l){return Object(n["a"])({url:"/subject/page?name="+e+"&dept="+t+"&page="+a+"&pageSize="+l,method:"get"})}function r(){return Object(n["a"])({url:"/subject",method:"get"})}function i(e){return Object(n["a"])({url:"/subject",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/subject",method:"put",data:e})}function c(e){return Object(n["a"])({url:"/subject/"+e,method:"delete"})}function u(e){return Object(n["a"])({url:"/subject/"+e,method:"get"})}}}]);