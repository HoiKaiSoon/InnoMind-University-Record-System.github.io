{"remainingRequest":"D:\\innomind_university_record_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\innomind_university_record_system\\src\\views\\hostel\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\innomind_university_record_system\\src\\views\\hostel\\index.vue","mtime":1710438464258},{"path":"D:\\innomind_university_record_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\innomind_university_record_system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\innomind_university_record_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\innomind_university_record_system\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZpbmRBbGwsIGFkZCwgdXBkYXRlLCBkZWxldGVCeUlkLCBzZWxlY3RCeUlkIH0gZnJvbSAnQC9hcGkvaG9zdGVsLmpzJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtTGFiZWxXaWR0aDogJzEyMHB4JywKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLCAvLyDmjqfliLblr7nor53moYbmmK/lkKblj6/op4EKICAgICAgaG9zdGVsOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYWRkcmVzczogJycKICAgICAgfSwKICAgICAgdGFibGVEYXRhOiBbXQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIOW9k+mhtemdouWKoOi9veWujOaIkOWQjuiHquWKqOaJp+ihjOOAggogICAgdGhpcy5pbml0KCkKICB9LAoKICBtZXRob2RzOiB7CgogICAgLy8g5Yig6Zmk6YOo6ZeoCiAgICBkZWxldGVCeUlkKGlkKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ1RoaXMgb3BlcmF0aW9uIHdpbGwgZGVsZXRlIHRoZSBkYXRhLCBkbyB5b3Ugd2FudCB0byBjb250aW51ZT8nLCAnSGludCcsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ0NvbmZpcm0nLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBkZWxldGVCeUlkKGlkKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIAlpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAxKSB7CgkgICAgICAgICAgCXRoaXMuJG1lc3NhZ2UoewoJICAgICAgICAgICAgICBtZXNzYWdlOiAnRGVsZXRlIFN1Y2Nlc3NmdWwnLAoJICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKCSAgICAgICAgICAgIH0pCgkgICAgICAgIH0gZWxzZSB7CgkgICAgICAgIAl0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5kYXRhLm1zZykKCSAgICAgICAgfQogICAgICAgICAgLy8g6YeN5paw5p+l6K+i5pWw5o2uCiAgICAgICAgICB0aGlzLmluaXQoKQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICdDYW5jZWwgRGVsZXRlJwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOagueaNrklE5p+l6K+i6YOo6ZeoIC0tIOWbnuaYvgogICAgc2VsZWN0QnlJZChpZCkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQogICAgICBzZWxlY3RCeUlkKGlkKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICB0aGlzLmhvc3RlbCA9IHJlc3VsdC5kYXRhLmRhdGEKICAgICAgfSkKICAgIH0sCgogICAgLy8g5L+d5a2Y5pa55rOVCiAgICBhZGQoKSB7CiAgICAgIGxldCBtZXRob2QgLy8g5re75YqgCiAgICAgIGlmICh0aGlzLmhvc3RlbC5pZCkgewogICAgICAgIG1ldGhvZCA9IHVwZGF0ZSh0aGlzLmhvc3RlbCkgLy8g5L+u5pS5CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWV0aG9kID0gYWRkKHRoaXMuaG9zdGVsKSAvLyDmt7vliqAKICAgICAgfQogICAgICBtZXRob2QudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gMSkgewogICAgICAgICAgLy8g5L+u5pS55oiQ5YqfCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ1NhdmUgU3VjY2Vzc2Z1bCcpCiAgICAgICAgICAvLyDph43mlrDmn6Xor6LmlbDmja4KICAgICAgICAgIHRoaXMuaW5pdCgpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzdWx0LmRhdGEubXNnKQogICAgICAgIH0KICAgICAgfSkKICAgICAgLy8g5YWz6Zet5paw5bu656qX5Y+jCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQoKICAgICAgLy8g5riF56m65qih5Z6L5pWw5o2uCiAgICAgIHRoaXMuaG9zdGVsID0ge30KICAgIH0sCgogICAgLy8g5Yid5aeL5YyWIC0g5p+l6K+i5YWo6YOoCiAgICBpbml0KCkgewogICAgICBmaW5kQWxsKCkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KQogICAgICAgIGlmIChyZXN1bHQuZGF0YS5jb2RlID09IDEpIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzdWx0LmRhdGEuZGF0YQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/hostel","sourcesContent":["<template>\n  <div style=\"margin-top: 20px; margin: 50px; margin-right: 100px\">\n    <!-- 按钮 -->\n\n    <el-row>\n      <el-button\n        style=\"float: right\"\n        type=\"primary\"\n        @click=\"dialogFormVisible = true; dept={}\"\n      >+ Add New Hostel</el-button>\n    </el-row>\n    <br>\n    <!-- 数据表格 -->\n    <template>\n      <el-table\n        ref=\"multipleTable\"\n        highlight-current-row\n        :data=\"tableData\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%\"\n        border\n      >\n        <el-table-column type=\"index\" width=\"100\" label=\"No.\" header-align=\"center\" align=\"center\" />\n        <el-table-column prop=\"name\" label=\"Hostel Name\" header-align=\"center\" align=\"center\" />\n        <el-table-column prop=\"address\" label=\"Address\" header-align=\"center\" align=\"center\" />\n        <el-table-column label=\"Latest Updated\" header-align=\"center\" align=\"center\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.updateTime ? scope.row.updateTime.replace('T',' '):'' }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"Operation\" width=\"420\" header-align=\"center\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              plain\n              @click=\"selectById(scope.row.id)\"\n            >Edit</el-button>\n\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              plain\n              @click=\"deleteById(scope.row.id)\"\n            >Delete</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </template>\n\n    <!-- 新建对话框 -->\n\n    <el-dialog title=\"Add New Hostel\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"hostel\">\n        <el-form-item label=\"Name\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"hostel.name\" placeholder=\"Please enter hostel name\" autocomplete=\"off\" />\n        </el-form-item>\n        <el-form-item label=\"Address\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"hostel.address\" placeholder=\"Please enter address\" autocomplete=\"off\" />\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"add()\">Submit</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { findAll, add, update, deleteById, selectById } from '@/api/hostel.js'\n\nexport default {\n  data() {\n    return {\n      formLabelWidth: '120px',\n      dialogFormVisible: false, // 控制对话框是否可见\n      hostel: {\n        name: '',\n        address: ''\n      },\n      tableData: []\n    }\n  },\n  mounted() {\n    // 当页面加载完成后自动执行。\n    this.init()\n  },\n\n  methods: {\n\n    // 删除部门\n    deleteById(id) {\n      this.$confirm('This operation will delete the data, do you want to continue?', 'Hint', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(() => {\n        deleteById(id).then((result) => {\n          \tif (result.data.code == 1) {\n\t          \tthis.$message({\n\t              message: 'Delete Successful',\n\t              type: 'success'\n\t            })\n\t        } else {\n\t        \tthis.$message.error(result.data.msg)\n\t        }\n          // 重新查询数据\n          this.init()\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: 'Cancel Delete'\n        })\n      })\n    },\n\n    // 根据ID查询部门 -- 回显\n    selectById(id) {\n      this.dialogFormVisible = true\n      selectById(id).then((result) => {\n        this.hostel = result.data.data\n      })\n    },\n\n    // 保存方法\n    add() {\n      let method // 添加\n      if (this.hostel.id) {\n        method = update(this.hostel) // 修改\n      } else {\n        method = add(this.hostel) // 添加\n      }\n      method.then((result) => {\n        if (result.data.code == 1) {\n          // 修改成功\n          this.$message.success('Save Successful')\n          // 重新查询数据\n          this.init()\n        } else {\n          this.$message.error(result.data.msg)\n        }\n      })\n      // 关闭新建窗口\n      this.dialogFormVisible = false\n\n      // 清空模型数据\n      this.hostel = {}\n    },\n\n    // 初始化 - 查询全部\n    init() {\n      findAll().then((result) => {\n        console.log(result)\n        if (result.data.code == 1) {\n          this.tableData = result.data.data\n        }\n      })\n    }\n  }\n}\n</script>\n<style>\n\n</style>\n"]}]}