{"remainingRequest":"D:\\innomind_university_record_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\innomind_university_record_system\\src\\views\\course\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\innomind_university_record_system\\src\\views\\course\\index.vue","mtime":1710516833577},{"path":"D:\\innomind_university_record_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\innomind_university_record_system\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\innomind_university_record_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\innomind_university_record_system\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHBhZ2UsIGFkZCwgdXBkYXRlLCBkZWxldGVCeUlkLCBzZWxlY3RCeUlkIH0gZnJvbSAnQC9hcGkvY291cnNlLmpzJwppbXBvcnQgeyBmaW5kQWxsIH0gZnJvbSAnQC9hcGkvZGVwdC5qcycKaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhY2tncm91bmQ6IHRydWUsCiAgICAgIC8vIOavj+mhteaYvuekuueahOadoeaVsAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgLy8g5oC76K6w5b2V5pWwCiAgICAgIHRvdGFsQ291bnQ6IDEwMCwKICAgICAgLy8g5b2T5YmN6aG156CBCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAvLyDmt7vliqDmlbDmja7lr7nor53moYbmmK/lkKblsZXnpLrnmoTmoIforrAKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOWTgeeJjOaooeWei+aVsOaNrgogICAgICBzZWFyY2hDb3Vyc2U6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBkZXB0OiAnJwogICAgICB9LAogICAgICBjb3Vyc2U6IHsKICAgICAgICBkZXB0SWQ6IG51bGwKICAgICAgfSwKICAgICAgZGVwdExpc3Q6IFtdLAogICAgICBjYXRlZ29yeUxpc3Q6IFt7IGlkOiAxLCBuYW1lOiAnVW5kZXJncmFkdWF0ZScgfSwgeyBpZDogMiwgbmFtZTogJ1Bvc3RncmFkdWF0ZScgfV0sCiAgICAgIGJlZ2luVGltZTogJycsCiAgICAgIGVuZFRpbWU6ICcnLAoKICAgICAgLy8g6KKr6YCJ5Lit55qEaWTmlbDnu4QKICAgICAgc2VsZWN0ZWRJZHM6IFtdLAogICAgICAvLyDlpI3pgInmoYbpgInkuK3mlbDmja7pm4blkIgKICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLAogICAgICAvLyDooajmoLzmlbDmja4KICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdG9rZW46IHsgdG9rZW46IGdldFRva2VuKCkgfQogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnBhZ2UoKSAvLyDlvZPpobXpnaLliqDovb3lrozmiJDlkI7vvIzlj5HpgIHlvILmraXor7fmsYLvvIzojrflj5bmlbDmja4KICAgIGZpbmRBbGwoKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgdGhpcy5kZXB0TGlzdCA9IHJlc3VsdC5kYXRhLmRhdGEKICAgIH0pCiAgfSwKCiAgbWV0aG9kczogewogICAgLy8g5p+l6K+i5YiG6aG15pWw5o2uCiAgICBwYWdlKCkgewogICAgICBwYWdlKAogICAgICAgIHRoaXMuc2VhcmNoQ291cnNlLm5hbWUsCiAgICAgICAgdGhpcy5zZWFyY2hDb3Vyc2UuZGVwdCwKICAgICAgICB0aGlzLmJlZ2luVGltZSwKICAgICAgICB0aGlzLmVuZFRpbWUsCiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSwKICAgICAgICB0aGlzLnBhZ2VTaXplCiAgICAgICkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy50b3RhbENvdW50ID0gcmVzLmRhdGEuZGF0YS50b3RhbAogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YS5yb3dzCiAgICAgIH0pCiAgICB9LAoKICAgIGdldERlcHROYW1lQnlJZChkZXB0SWQpIHsKICAgICAgY29uc3QgZGVwdCA9IHRoaXMuZGVwdExpc3QuZmluZChkZXB0ID0+IGRlcHQuaWQgPT0gZGVwdElkKQogICAgICByZXR1cm4gZGVwdCA/IGRlcHQubmFtZSA6ICcnCiAgICB9LAoKICAgIC8vIOWkjemAieahhumAieS4reWQjuaJp+ihjOeahOaWueazlQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsCiAgICB9LAoKICAgIC8vIOafpeivouaWueazlQogICAgb25TdWJtaXQoKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxCiAgICAgIHRoaXMucGFnZSgpCiAgICB9LAoKICAgIGNsZWFyKCkgewogICAgICB0aGlzLnNlYXJjaENvdXJzZSA9IHsgbmFtZTogJycsIGRlcHQ6ICcnIH0KICAgICAgdGhpcy5iZWdpblRpbWUgPSAnJwogICAgICB0aGlzLmVuZFRpbWUgPSAnJwogICAgICB0aGlzLnBhZ2UoKQogICAgfSwKICAgIC8vIOa3u+WKoOaVsOaNrgogICAgYWRkKCkgewogICAgICBsZXQgb3BlcmF0b3IKCiAgICAgIGlmICh0aGlzLmNvdXJzZS5pZCkgewogICAgICAgIC8vIOS/ruaUuQogICAgICAgIG9wZXJhdG9yID0gdXBkYXRlKHRoaXMuY291cnNlKQogICAgICB9IGVsc2UgewogICAgICAgIG9wZXJhdG9yID0gYWRkKHRoaXMuY291cnNlKQogICAgICB9CgogICAgICBvcGVyYXRvci50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlID09ICcxJykgewogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgIHRoaXMucGFnZSgpCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgbWVzc2FnZTogJ1NhdmUgU3VjY2Vzc2Z1bCcsIHR5cGU6ICdzdWNjZXNzJyB9KQogICAgICAgICAgdGhpcy5jb3Vyc2UgPSB7fQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AuZGF0YS5tc2cpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIHVwZGF0ZShpZCkgewogICAgICAvLyAxLiDmiZPlvIDnqpflj6MKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICAvLyAyLiDlj5HpgIHor7fmsYIKCiAgICAgIHNlbGVjdEJ5SWQoaWQpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQuZGF0YS5jb2RlID09IDEpIHsKICAgICAgICAgIHRoaXMuY291cnNlID0gcmVzdWx0LmRhdGEuZGF0YQogICAgICAgICAgdGhpcy5jb3Vyc2UKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOWIhumhtQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgLy8g6YeN5paw6K6+572u5q+P6aG15pi+56S655qE5p2h5pWwCiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWwKICAgICAgdGhpcy5wYWdlKCkKICAgIH0sCgogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgLy8g6YeN5paw6K6+572u5b2T5YmN6aG156CBCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWwKICAgICAgdGhpcy5wYWdlKCkKICAgIH0sCgogICAgLy8g5Yig6Zmk5ZGY5bel5L+h5oGvCiAgICBkZWxldGVCeUlkKGlkKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ1RoaXMgb3BlcmF0aW9uIHdpbGwgZGVsZXRlIHRoZSBkYXRhLCBkbyB5b3Ugd2FudCB0byBjb250aW51ZT8nLCAnSGludCcsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ0NvbmZpcm0nLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAvLyAyLiDlj5HpgIFBSkFY6K+35rGCCiAgICAgICAgZGVsZXRlQnlJZChpZCkudGhlbigocmVzcCkgPT4gewogICAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlID09IDEpIHsKICAgICAgICAgICAgLy8g5Yig6Zmk5oiQ5YqfCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygnRGVsZXRlIFN1Y2Nlc3NmdWwnKQogICAgICAgICAgICB0aGlzLnBhZ2UoKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLmRhdGEubXNnKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAvLyDnlKjmiLfngrnlh7vlj5bmtojmjInpkq4KICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ0NhbmNlbCBEZWxldGUnKQogICAgICB9KQogICAgfSwKCiAgICAvLyDmibnph4/liKDpmaTlkZjlt6Xkv6Hmga8KICAgIGRlbGV0ZUJ5SWRzKCkgewogICAgICAvLyDlvLnlh7rnoa7orqTmj5DnpLrmoYYKICAgICAgdGhpcy4kY29uZmlybSgnVGhpcyBvcGVyYXRpb24gd2lsbCBkZWxldGUgdGhlIGRhdGEsIGRvIHlvdSB3YW50IHRvIGNvbnRpbnVlPycsICdIaW50JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnQ29uZmlybScsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8vIOeUqOaIt+eCueWHu+ehruiupOaMiemSrgogICAgICAgIC8vIDEuIOWIm+W7umlk5pWw57uELCDku44gdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiDojrflj5bljbPlj68KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJZHNbaV0gPSB0aGlzLm11bHRpcGxlU2VsZWN0aW9uW2ldLmlkCiAgICAgICAgfQoKICAgICAgICAvLyAyLiDlj5HpgIFBSkFY6K+35rGCCiAgICAgICAgZGVsZXRlQnlJZCh0aGlzLnNlbGVjdGVkSWRzKS50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgICBpZiAocmVzcC5kYXRhLmNvZGUgPT0gJzEnKSB7CiAgICAgICAgICAgIC8vIOWIoOmZpOaIkOWKnwogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ0RlbGV0ZSBTdWNjZXNzZnVsJykKICAgICAgICAgICAgdGhpcy5wYWdlKCkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcC5kYXRhLm1zZykKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy8g55So5oi354K55Ye75Y+W5raI5oyJ6ZKuCiAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCdDYW5jZWwgRGVsZXRlJykKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/course","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <!--搜索表单-->\n    <el-form :inline=\"true\" :model=\"searchCourse\" class=\"demo-form-inline\">\n      <el-form-item label=\"Course name\">\n        <el-input\n          v-model=\"searchCourse.name\"\n          placeholder=\"Please enter course name\"\n        />\n      </el-form-item>\n      <el-form-item label=\"Department\">\n        <el-input\n          v-model=\"searchCourse.dept\"\n          placeholder=\"Please enter department\"\n        />\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit\">Search</el-button>\n        <el-button type=\"info\" @click=\"clear\">Clear</el-button>\n      </el-form-item>\n    </el-form>\n\n    <!--按钮-->\n    <el-row>\n      <el-button type=\"danger\" size=\"medium\" @click=\"deleteByIds\">- Batch Deletion</el-button>\n      <el-button type=\"primary\" size=\"medium\" @click=\"dialogVisible = true; course = {};\">+ Add New Course</el-button>\n    </el-row>\n\n    <!--添加数据对话框表单-->\n    <el-dialog ref=\"form\" title=\"Add New Course\" :visible.sync=\"dialogVisible\" width=\"30%\">\n      <el-form ref=\"form\" :model=\"course\" label-width=\"80px\" size=\"mini\">\n        <el-form-item label=\"Name\">\n          <el-input v-model=\"course.name\" placeholder=\"Please enter course name\" autocomplete=\"off\" />\n        </el-form-item>\n\n        <el-form-item label=\"Dept\">\n          <el-select v-model=\"course.deptId\" placeholder=\"Please choose\" style=\"width:100%\">\n            <el-option\n              v-for=\"item in deptList\"\n              :key=\"item.value\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"Semester\">\n          <el-input v-model=\"course.semester\" placeholder=\"Please enter how many semester\" autocomplete=\"off\" />\n        </el-form-item>\n\n        <el-form-item label=\"Education Category\">\n          <el-select v-model=\"course.category\" placeholder=\"please choose\" style=\"width:100%\">\n            <el-option\n              v-for=\"item in categoryList\"\n              :key=\"item.value\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"add\">Sumbit</el-button>\n          <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n\n    <br>\n    <!--表格-->\n    <template>\n      <el-table :data=\"tableData\" style=\"width: 100%\" border @selection-change=\"handleSelectionChange\">\n        <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n        <el-table-column prop=\"name\" label=\"Course Name\" align=\"center\" />\n        <el-table-column prop=\"deptId\" label=\"Department\" align=\"center\">\n          <template slot-scope=\"{ row }\">\n            {{ getDeptNameById(row.deptId) }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"semester\" label=\"Semester\" align=\"center\" />\n\n        <el-table-column align=\"center\" label=\"Education Category\">\n          <template slot-scope=\"scope\">\n            <span style=\"margin-right: 10px\">\n              {{ scope.row.category == \"1\" ? \"Undergraduate\" : \"Postgraduate\" }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"Latest Updated\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.updateTime ? scope.row.updateTime.replace('T',' '):'' }}\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"Operation\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"small\" @click=\"update(scope.row.id)\">Edit</el-button>\n            <el-button type=\"danger\" size=\"small\" @click=\"deleteById(scope.row.id)\">Delete</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </template>\n\n    <!--分页工具条-->\n    <el-pagination\n      :background=\"background\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"[5, 10, 15, 20]\"\n      :page-size=\"5\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"totalCount\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport { page, add, update, deleteById, selectById } from '@/api/course.js'\nimport { findAll } from '@/api/dept.js'\nimport { getToken } from '@/utils/auth'\n\nexport default {\n  data() {\n    return {\n      background: true,\n      // 每页显示的条数\n      pageSize: 5,\n      // 总记录数\n      totalCount: 100,\n      // 当前页码\n      currentPage: 1,\n      // 添加数据对话框是否展示的标记\n      dialogVisible: false,\n      // 品牌模型数据\n      searchCourse: {\n        name: '',\n        dept: ''\n      },\n      course: {\n        deptId: null\n      },\n      deptList: [],\n      categoryList: [{ id: 1, name: 'Undergraduate' }, { id: 2, name: 'Postgraduate' }],\n      beginTime: '',\n      endTime: '',\n\n      // 被选中的id数组\n      selectedIds: [],\n      // 复选框选中数据集合\n      multipleSelection: [],\n      // 表格数据\n      tableData: [],\n      token: { token: getToken() }\n    }\n  },\n\n  mounted() {\n    this.page() // 当页面加载完成后，发送异步请求，获取数据\n    findAll().then((result) => {\n      this.deptList = result.data.data\n    })\n  },\n\n  methods: {\n    // 查询分页数据\n    page() {\n      page(\n        this.searchCourse.name,\n        this.searchCourse.dept,\n        this.beginTime,\n        this.endTime,\n        this.currentPage,\n        this.pageSize\n      ).then((res) => {\n        this.totalCount = res.data.data.total\n        this.tableData = res.data.data.rows\n      })\n    },\n\n    getDeptNameById(deptId) {\n      const dept = this.deptList.find(dept => dept.id == deptId)\n      return dept ? dept.name : ''\n    },\n\n    // 复选框选中后执行的方法\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n\n    // 查询方法\n    onSubmit() {\n      this.currentPage = 1\n      this.page()\n    },\n\n    clear() {\n      this.searchCourse = { name: '', dept: '' }\n      this.beginTime = ''\n      this.endTime = ''\n      this.page()\n    },\n    // 添加数据\n    add() {\n      let operator\n\n      if (this.course.id) {\n        // 修改\n        operator = update(this.course)\n      } else {\n        operator = add(this.course)\n      }\n\n      operator.then((resp) => {\n        if (resp.data.code == '1') {\n          this.dialogVisible = false\n          this.page()\n          this.$message({ message: 'Save Successful', type: 'success' })\n          this.course = {}\n        } else {\n          this.$message.error(resp.data.msg)\n        }\n      })\n    },\n    update(id) {\n      // 1. 打开窗口\n      this.dialogVisible = true\n      // 2. 发送请求\n\n      selectById(id).then((result) => {\n        if (result.data.code == 1) {\n          this.course = result.data.data\n          this.course\n        }\n      })\n    },\n\n    // 分页\n    handleSizeChange(val) {\n      // 重新设置每页显示的条数\n      this.pageSize = val\n      this.page()\n    },\n\n    handleCurrentChange(val) {\n      // 重新设置当前页码\n      this.currentPage = val\n      this.page()\n    },\n\n    // 删除员工信息\n    deleteById(id) {\n      this.$confirm('This operation will delete the data, do you want to continue?', 'Hint', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(() => {\n        // 2. 发送AJAX请求\n        deleteById(id).then((resp) => {\n          if (resp.data.code == 1) {\n            // 删除成功\n            this.$message.success('Delete Successful')\n            this.page()\n          } else {\n            this.$message.error(resp.data.msg)\n          }\n        })\n      }).catch(() => {\n        // 用户点击取消按钮\n        this.$message.info('Cancel Delete')\n      })\n    },\n\n    // 批量删除员工信息\n    deleteByIds() {\n      // 弹出确认提示框\n      this.$confirm('This operation will delete the data, do you want to continue?', 'Hint', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(() => {\n        // 用户点击确认按钮\n        // 1. 创建id数组, 从 this.multipleSelection 获取即可\n        for (let i = 0; i < this.multipleSelection.length; i++) {\n          this.selectedIds[i] = this.multipleSelection[i].id\n        }\n\n        // 2. 发送AJAX请求\n        deleteById(this.selectedIds).then((resp) => {\n          if (resp.data.code == '1') {\n            // 删除成功\n            this.$message.success('Delete Successful')\n            this.page()\n          } else {\n            this.$message.error(resp.data.msg)\n          }\n        })\n      }).catch(() => {\n        // 用户点击取消按钮\n        this.$message.info('Cancel Delete')\n      })\n    }\n  }\n}\n</script>\n<style>\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 100px;\n  height: 100px;\n  line-height: 100px;\n  text-align: center;\n}\n.avatar {\n  width: 100px;\n  height: 100px;\n  display: block;\n}\n</style>\n"]}]}