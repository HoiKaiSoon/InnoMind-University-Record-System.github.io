{"remainingRequest":"D:\\test frontend system\\vue-admin-template-master\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test frontend system\\vue-admin-template-master\\vue-admin-template-master\\src\\views\\hostel\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\test frontend system\\vue-admin-template-master\\vue-admin-template-master\\src\\views\\hostel\\index.vue","mtime":1705046950117},{"path":"D:\\test frontend system\\vue-admin-template-master\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test frontend system\\vue-admin-template-master\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\test frontend system\\vue-admin-template-master\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\test frontend system\\vue-admin-template-master\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZpbmRBbGwsIGFkZCwgdXBkYXRlLCBkZWxldGVCeUlkLCBzZWxlY3RCeUlkIH0gZnJvbSAiQC9hcGkvaG9zdGVsLmpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybUxhYmVsV2lkdGg6ICIxMjBweCIsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwgLy/mjqfliLblr7nor53moYbmmK/lkKblj6/op4EKICAgICAgaG9zdGVsOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgYWRkcmVzczogIiIsCiAgICAgIH0sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKCiAgICAvL+WIoOmZpOmDqOmXqAogICAgZGVsZXRlQnlJZChpZCkgewogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTliKDpmaQ/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIGRlbGV0ZUJ5SWQoaWQpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgCWlmKHJlc3VsdC5kYXRhLmNvZGUgPT0gMSl7CgkgICAgICAgICAgCXRoaXMuJG1lc3NhZ2UoewoJICAgICAgICAgICAgICBtZXNzYWdlOiAi5oGt5Zac5L2g77yM5Yig6Zmk5oiQ5YqfIiwKCSAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAoJICAgICAgICAgICAgfSk7CgkgICAgICAgIH1lbHNlewoJICAgICAgICAJdGhpcy4kbWVzc2FnZS5lcnJvcihyZXN1bHQuZGF0YS5tc2cpOwoJICAgICAgICB9CiAgICAgICAgICAgIC8v6YeN5paw5p+l6K+i5pWw5o2uCiAgICAgICAgICAgIHRoaXMuaW5pdCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgbWVzc2FnZTogIuW3suWPlua2iOWIoOmZpCIsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCgogICAgLy/moLnmja5JROafpeivoumDqOmXqCAtLSDlm57mmL4KICAgIHNlbGVjdEJ5SWQoaWQpIHsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHNlbGVjdEJ5SWQoaWQpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIHRoaXMuaG9zdGVsID0gcmVzdWx0LmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8v5L+d5a2Y5pa55rOVCiAgICBhZGQoKSB7CiAgICAgIGxldCBtZXRob2QgOy8vIOa3u+WKoAogICAgICBpZiAodGhpcy5ob3N0ZWwuaWQpIHsKICAgICAgICBtZXRob2QgPSB1cGRhdGUodGhpcy5ob3N0ZWwpOyAvLyDkv67mlLkKICAgICAgfWVsc2V7CiAgICAgICAgbWV0aG9kID0gYWRkKHRoaXMuaG9zdGVsKTsgLy/mt7vliqAgCiAgICAgIH0KICAgICAgbWV0aG9kLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQuZGF0YS5jb2RlID09IDEpIHsKICAgICAgICAgIC8v5L+u5pS55oiQ5YqfCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuaBreWWnOS9oO+8jOS/neWtmOaIkOWKnyIpOwogICAgICAgICAgLy/ph43mlrDmn6Xor6LmlbDmja4KICAgICAgICAgIHRoaXMuaW5pdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3VsdC5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8g5YWz6Zet5paw5bu656qX5Y+jCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKCiAgICAgIC8vIOa4heepuuaooeWei+aVsOaNrgogICAgICB0aGlzLmhvc3RlbCA9IHt9OwogICAgfSwKCiAgICAvL+WIneWni+WMliAtIOafpeivouWFqOmDqAogICAgaW5pdCgpIHsKICAgICAgZmluZEFsbCgpLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gMSkgewogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXN1bHQuZGF0YS5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8v5b2T6aG16Z2i5Yqg6L295a6M5oiQ5ZCO6Ieq5Yqo5omn6KGM44CCCiAgICB0aGlzLmluaXQoKTsKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/hostel","sourcesContent":["<template>\n  <div style=\"margin-top: 20px; margin: 50px; margin-right: 100px\">\n    <!-- 按钮 -->\n\n    <el-row>\n      <el-button\n        style=\"float: right\"\n        type=\"primary\"\n        @click=\"dialogFormVisible = true; dept={}\"\n        >+ 新增宿舍</el-button\n      >\n    </el-row>\n    <br>\n    <!-- 数据表格 -->\n    <template>\n      <el-table\n        highlight-current-row\n        ref=\"multipleTable\"\n        :data=\"tableData\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%\"\n        border\n      >\n        <el-table-column type=\"index\" width=\"100\" label=\"序号\" header-align=\"center\" align=\"center\"> </el-table-column>\n        <el-table-column prop=\"name\" label=\"宿舍名称\" header-align=\"center\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"address\" label=\"宿舍地址\" header-align=\"center\" align=\"center\"></el-table-column>\n        <el-table-column label=\"最后操作时间\" header-align=\"center\" align=\"center\">\n          <template slot-scope=\"scope\">\n              {{scope.row.updateTime ? scope.row.updateTime.replace('T',' '):''}}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"操作\" width=\"420\" header-align=\"center\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              plain\n              @click=\"selectById(scope.row.id)\"\n              >编辑</el-button\n            >\n\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              plain\n              @click=\"deleteById(scope.row.id)\"\n              >删除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </template>\n\n    <!-- 新建对话框 -->\n\n    <el-dialog title=\"新增宿舍\" :visible.sync=\"dialogFormVisible\" >\n      <el-form :model=\"hostel\">\n        <el-form-item label=\"宿舍名称\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"hostel.name\"  placeholder=\"请输入宿舍名称\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"宿舍地址\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"hostel.address\"  placeholder=\"请输入宿舍地址\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"add()\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { findAll, add, update, deleteById, selectById } from \"@/api/hostel.js\";\n\nexport default {\n  data() {\n    return {\n      formLabelWidth: \"120px\",\n      dialogFormVisible: false, //控制对话框是否可见\n      hostel: {\n        name: \"\",\n        address: \"\",\n      },\n      tableData: [],\n    };\n  },\n\n  methods: {\n\n    //删除部门\n    deleteById(id) {\n      this.$confirm(\"确认删除?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      }).then(() => {\n          deleteById(id).then((result) => {\n          \tif(result.data.code == 1){\n\t          \tthis.$message({\n\t              message: \"恭喜你，删除成功\",\n\t              type: \"success\",\n\t            });\n\t        }else{\n\t        \tthis.$message.error(result.data.msg);\n\t        }\n            //重新查询数据\n            this.init();\n          });\n        }).catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\",\n          });\n        });\n    },\n\n    //根据ID查询部门 -- 回显\n    selectById(id) {\n      this.dialogFormVisible = true;\n      selectById(id).then((result) => {\n        this.hostel = result.data.data;\n      });\n    },\n\n    //保存方法\n    add() {\n      let method ;// 添加\n      if (this.hostel.id) {\n        method = update(this.hostel); // 修改\n      }else{\n        method = add(this.hostel); //添加 \n      }\n      method.then((result) => {\n        if (result.data.code == 1) {\n          //修改成功\n          this.$message.success(\"恭喜你，保存成功\");\n          //重新查询数据\n          this.init();\n        } else {\n          this.$message.error(result.data.msg);\n        }\n      });\n      // 关闭新建窗口\n      this.dialogFormVisible = false;\n\n      // 清空模型数据\n      this.hostel = {};\n    },\n\n    //初始化 - 查询全部\n    init() {\n      findAll().then((result) => {\n        console.log(result);\n        if (result.data.code == 1) {\n          this.tableData = result.data.data;\n        }\n      });\n    },\n  },\n  mounted() {\n    //当页面加载完成后自动执行。\n    this.init();\n  },\n};\n</script>\n<style>\n\n</style>\n"]}]}