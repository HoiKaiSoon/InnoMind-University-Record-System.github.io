(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7871b1d6"],{"0351":function(e,t,n){},"7db0":function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").find,c=n("44d2"),u=n("ae40"),r="find",o=!0,l=u(r);r in[]&&Array(1)[r]((function(){o=!1})),a({target:"Array",proto:!0,forced:o||!l},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),c(r)},aede:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",[n("el-button",{attrs:{type:"danger",size:"medium"},on:{click:e.deleteByIds}},[e._v("- Batch Deletion")]),n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.dialogVisible=!0,e.subject={}}}},[e._v("+ Add New Subject")])],1),n("el-dialog",{ref:"form",attrs:{title:"Add New Subject",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{ref:"form",attrs:{model:e.subject,"label-width":"80px",size:"mini"}},[n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Please enter subject name",autocomplete:"off"},model:{value:e.subject.name,callback:function(t){e.$set(e.subject,"name",t)},expression:"subject.name"}})],1),n("el-form-item",{attrs:{label:"Dept"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Please choose"},model:{value:e.subject.deptId,callback:function(t){e.$set(e.subject,"deptId",t)},expression:"subject.deptId"}},e._l(e.deptList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"Credit Hrs"}},[n("el-input",{attrs:{placeholder:"Please enter credit hours",autocomplete:"off"},model:{value:e.subject.hours,callback:function(t){e.$set(e.subject,"hours",t)},expression:"subject.hours"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Sumbit")]),n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")])],1)],1)],1),n("br"),[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{prop:"name",label:"Subject Name",align:"center"}}),n("el-table-column",{attrs:{prop:"deptId",label:"Department",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(e.getDeptNameById(n.deptId))+" ")]}}])}),n("el-table-column",{attrs:{prop:"hours",label:"Credit Hours",align:"center"}}),n("el-table-column",{attrs:{align:"center",label:"Latest Updated"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.updateTime?t.row.updateTime.replace("T"," "):"")+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"Operation"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.update(t.row.id)}}},[e._v("Edit")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return e.deleteById(t.row.id)}}},[e._v("Delete")])]}}])})],1)],n("el-pagination",{attrs:{background:e.background,"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2)},i=[],c=(n("b0c0"),n("7db0"),n("d3b7"),n("c418")),u=n("fe05"),r=n("5f87"),o={data:function(){return{background:!0,pageSize:5,totalCount:100,currentPage:1,dialogVisible:!1,searchSubject:{name:"",dept:""},subject:{name:"",deptId:null,hours:""},deptList:[],beginTime:"",endTime:"",selectedIds:[],multipleSelection:[],tableData:[],token:{token:Object(r["a"])()}}},mounted:function(){var e=this;this.page(),Object(u["c"])().then((function(t){e.deptList=t.data.data}))},methods:{page:function(){var e=this;Object(c["d"])(this.searchSubject.name,this.searchSubject.dept,this.beginTime,this.endTime,this.currentPage,this.pageSize).then((function(t){e.totalCount=t.data.data.total,e.tableData=t.data.data.rows}))},getDeptNameById:function(e){var t=this.deptList.find((function(t){return t.id==e}));return t?t.name:""},handleSelectionChange:function(e){this.multipleSelection=e},onSubmit:function(){this.currentPage=1,this.page()},clear:function(){this.searchSubject={name:"",dept:""},this.beginTime="",this.endTime="",this.page()},add:function(){var e,t=this;e=this.subject.id?Object(c["f"])(this.subject):Object(c["a"])(this.subject),e.then((function(e){"1"==e.data.code?(t.dialogVisible=!1,t.page(),t.$message({message:"Save Successful",type:"success"}),t.subject={}):t.$message.error(e.data.msg)}))},update:function(e){var t=this;this.dialogVisible=!0,Object(c["e"])(e).then((function(e){1==e.data.code&&(t.subject=e.data.data,t.subject)}))},handleSizeChange:function(e){this.pageSize=e,this.page()},handleCurrentChange:function(e){this.currentPage=e,this.page()},deleteById:function(e){var t=this;this.$confirm("This operation will delete the data, do you want to continue?","Hint",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){Object(c["b"])(e).then((function(e){1==e.data.code?(t.$message.success("Delete Successful"),t.page()):t.$message.error(e.data.msg)}))})).catch((function(){t.$message.info("Cancel Delete")}))},deleteByIds:function(){var e=this;this.$confirm("This operation will delete the data, do you want to continue?","Hint",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){for(var t=0;t<e.multipleSelection.length;t++)e.selectedIds[t]=e.multipleSelection[t].id;Object(c["b"])(e.selectedIds).then((function(t){"1"==t.data.code?(e.$message.success("Delete Successful"),e.page()):e.$message.error(t.data.msg)}))})).catch((function(){e.$message.info("Cancel Delete")}))}}},l=o,s=(n("e42a"),n("2877")),d=Object(s["a"])(l,a,i,!1,null,null,null);t["default"]=d.exports},c418:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return l}));var a=n("b775");function i(e,t,n,i){return Object(a["a"])({url:"/subject/page?name="+e+"&dept="+t+"&page="+n+"&pageSize="+i,method:"get"})}function c(){return Object(a["a"])({url:"/subject",method:"get"})}function u(e){return Object(a["a"])({url:"/subject",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/subject",method:"put",data:e})}function o(e){return Object(a["a"])({url:"/subject/"+e,method:"delete"})}function l(e){return Object(a["a"])({url:"/subject/"+e,method:"get"})}},e42a:function(e,t,n){"use strict";n("0351")},fe05:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o}));var a=n("b775");function i(){return Object(a["a"])({url:"/depts",method:"get"})}function c(e){return Object(a["a"])({url:"/depts",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/depts",method:"put",data:e})}function r(e){return Object(a["a"])({url:"/depts/"+e,method:"delete"})}function o(e){return Object(a["a"])({url:"/depts/"+e,method:"get"})}}}]);